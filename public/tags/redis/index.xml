<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Redis on YuChu's Blog</title><link>https://hugo.yuchu.me/tags/redis/</link><description>Recent content in Redis on YuChu's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 25 Sep 2024 23:03:33 +0800</lastBuildDate><atom:link href="https://hugo.yuchu.me/tags/redis/index.xml" rel="self" type="application/rss+xml"/><item><title>运维岗需要掌握的Redis基础和优化技巧</title><link>https://hugo.yuchu.me/posts/%E8%BF%90%E7%BB%B4%E5%B2%97%E9%9C%80%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84redis%E5%9F%BA%E7%A1%80%E5%92%8C%E4%BC%98%E5%8C%96%E6%8A%80%E5%B7%A7/</link><pubDate>Wed, 25 Sep 2024 23:03:33 +0800</pubDate><guid>https://hugo.yuchu.me/posts/%E8%BF%90%E7%BB%B4%E5%B2%97%E9%9C%80%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84redis%E5%9F%BA%E7%A1%80%E5%92%8C%E4%BC%98%E5%8C%96%E6%8A%80%E5%B7%A7/</guid><description>&lt;hr>
&lt;h1 id="redis-运维笔记">&lt;a href="#redis-%e8%bf%90%e7%bb%b4%e7%ac%94%e8%ae%b0" class="header-anchor">&lt;/a>Redis 运维笔记
&lt;/h1>&lt;h2 id="目录">&lt;a href="#%e7%9b%ae%e5%bd%95" class="header-anchor">&lt;/a>目录
&lt;/h2>&lt;ol>
&lt;li>&lt;a class="link" href="#1-redis-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" >Redis 基本概念&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#2-redis-%e6%8c%81%e4%b9%85%e5%8c%96%e6%9c%ba%e5%88%b6" >Redis 持久化机制&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#3-redis-%e9%ab%98%e5%8f%af%e7%94%a8" >Redis 高可用&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#4-redis-%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" >Redis 常用命令&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#5-redis-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96" >Redis 性能优化&lt;/a>&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="1-redis-基本概念">&lt;a href="#1-redis-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" class="header-anchor">&lt;/a>1. Redis 基本概念
&lt;/h2>&lt;h3 id="redis-是什么">&lt;a href="#redis-%e6%98%af%e4%bb%80%e4%b9%88" class="header-anchor">&lt;/a>&lt;strong>Redis 是什么？&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>Redis 是一个开源的内存数据结构存储系统，支持多种数据结构如：字符串、哈希、列表、集合、有序集合等。&lt;/li>
&lt;li>Redis 提供持久化机制，可以将内存中的数据保存到磁盘中，重启时加载使用。&lt;/li>
&lt;/ul>
&lt;h3 id="redis-应用场景">&lt;a href="#redis-%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" class="header-anchor">&lt;/a>&lt;strong>Redis 应用场景&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>缓存&lt;/strong>: 提高访问速度，减少数据库压力。&lt;/li>
&lt;li>&lt;strong>分布式锁&lt;/strong>: 利用 Redis 的原子操作实现高效分布式锁。&lt;/li>
&lt;li>&lt;strong>消息队列&lt;/strong>: 利用列表结构实现高效队列。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="2-redis-持久化机制">&lt;a href="#2-redis-%e6%8c%81%e4%b9%85%e5%8c%96%e6%9c%ba%e5%88%b6" class="header-anchor">&lt;/a>2. Redis 持久化机制
&lt;/h2>&lt;p>Redis 支持两种主要的持久化方式：&lt;/p>
&lt;h3 id="1-rdb-redis-database-backup">&lt;a href="#1-rdb-redis-database-backup" class="header-anchor">&lt;/a>&lt;strong>1. RDB (Redis Database Backup)&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>原理&lt;/strong>: 在指定时间间隔内生成数据快照并保存到磁盘。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>优点&lt;/strong>: RDB 文件紧凑，适合备份。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>缺点&lt;/strong>: 数据不是实时持久化，可能丢失部分数据。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>配置示例&lt;/strong>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>&lt;span style="color:#50fa7b">save 900 1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2&lt;/span>&lt;span>&lt;span style="color:#50fa7b">save 300 10&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3&lt;/span>&lt;span>&lt;span style="color:#50fa7b">save 60 10000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="2-aof-append-only-file">&lt;a href="#2-aof-append-only-file" class="header-anchor">&lt;/a>&lt;strong>2. AOF (Append-Only File)&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>原理&lt;/strong>: 记录每次写操作，以日志的形式追加到文件中。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>优点&lt;/strong>: 数据持久化更实时，默认每秒保存一次。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>缺点&lt;/strong>: AOF 文件比 RDB 更大，恢复速度较慢。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>配置示例&lt;/strong>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>&lt;span style="color:#50fa7b">appendonly yes&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2&lt;/span>&lt;span>&lt;span style="color:#50fa7b">appendfsync everysec&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="选择合适的持久化方式">&lt;a href="#%e9%80%89%e6%8b%a9%e5%90%88%e9%80%82%e7%9a%84%e6%8c%81%e4%b9%85%e5%8c%96%e6%96%b9%e5%bc%8f" class="header-anchor">&lt;/a>&lt;strong>选择合适的持久化方式&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>RDB&lt;/strong>: 用于备份，适合在不要求实时性但需要快速恢复的场景。&lt;/li>
&lt;li>&lt;strong>AOF&lt;/strong>: 用于数据更实时的持久化，但需要更多的磁盘资源。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="3-redis-高可用">&lt;a href="#3-redis-%e9%ab%98%e5%8f%af%e7%94%a8" class="header-anchor">&lt;/a>3. Redis 高可用
&lt;/h2>&lt;h3 id="1-主从复制-master-slave-replication">&lt;a href="#1-%e4%b8%bb%e4%bb%8e%e5%a4%8d%e5%88%b6-master-slave-replication" class="header-anchor">&lt;/a>&lt;strong>1. 主从复制 (Master-Slave Replication)&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>Redis 支持异步复制，一个 Master 可以有多个 Slave。&lt;/li>
&lt;li>Slave 只读，接收 Master 数据的更新。&lt;/li>
&lt;li>&lt;strong>命令&lt;/strong>:
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>SLAVEOF &amp;lt;master-ip&amp;gt; &amp;lt;master-port&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="2-哨兵模式-sentinel">&lt;a href="#2-%e5%93%a8%e5%85%b5%e6%a8%a1%e5%bc%8f-sentinel" class="header-anchor">&lt;/a>&lt;strong>2. 哨兵模式 (Sentinel)&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>实现高可用性，哨兵可以监控主从实例的运行状态，并在主节点故障时自动进行故障转移。&lt;/li>
&lt;li>&lt;strong>优点&lt;/strong>: 自动故障切换，监控实例状态。&lt;/li>
&lt;li>&lt;strong>配置文件&lt;/strong>:
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>&lt;span style="color:#50fa7b">sentinel monitor mymaster 127.0.0.1 6379 2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="3-redis-集群-redis-cluster">&lt;a href="#3-redis-%e9%9b%86%e7%be%a4-redis-cluster" class="header-anchor">&lt;/a>&lt;strong>3. Redis 集群 (Redis Cluster)&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>分布式&lt;/strong>: 将数据分布在多个节点上，支持水平扩展。&lt;/li>
&lt;li>&lt;strong>哈希槽 (Hash Slot)&lt;/strong>: Redis 集群通过哈希槽将数据分布在多个节点，集群默认有 16384 个槽。&lt;/li>
&lt;li>支持自动分片和故障转移。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="4-redis-常用命令">&lt;a href="#4-redis-%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" class="header-anchor">&lt;/a>4. Redis 常用命令
&lt;/h2>&lt;h3 id="键管理">&lt;a href="#%e9%94%ae%e7%ae%a1%e7%90%86" class="header-anchor">&lt;/a>&lt;strong>键管理&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>查看所有键:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>KEYS *
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>删除键:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>DEL &amp;lt;key&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="字符串操作">&lt;a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>&lt;strong>字符串操作&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>设置键值:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>SET &amp;lt;key&amp;gt; &amp;lt;value&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>获取键值:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>GET &amp;lt;key&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="列表操作">&lt;a href="#%e5%88%97%e8%a1%a8%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>&lt;strong>列表操作&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>添加元素到列表:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>LPUSH &amp;lt;key&amp;gt; &amp;lt;value&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>获取列表元素:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>LRANGE &amp;lt;key&amp;gt; &lt;span style="color:#bd93f9">0&lt;/span> -1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="哈希操作">&lt;a href="#%e5%93%88%e5%b8%8c%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>&lt;strong>哈希操作&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>设置哈希字段:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>HSET &amp;lt;key&amp;gt; &amp;lt;field&amp;gt; &amp;lt;value&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>获取哈希字段:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>HGET &amp;lt;key&amp;gt; &amp;lt;field&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="集合操作">&lt;a href="#%e9%9b%86%e5%90%88%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>&lt;strong>集合操作&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>添加元素到集合:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>SADD &amp;lt;key&amp;gt; &amp;lt;value&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>获取集合所有元素:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>SMEMBERS &amp;lt;key&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="有序集合操作">&lt;a href="#%e6%9c%89%e5%ba%8f%e9%9b%86%e5%90%88%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>&lt;strong>有序集合操作&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>添加元素到有序集合:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>ZADD &amp;lt;key&amp;gt; &amp;lt;score&amp;gt; &amp;lt;value&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>获取有序集合元素:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>ZRANGE &amp;lt;key&amp;gt; &lt;span style="color:#bd93f9">0&lt;/span> -1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="5-redis-性能优化">&lt;a href="#5-redis-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96" class="header-anchor">&lt;/a>5. Redis 性能优化
&lt;/h2>&lt;h3 id="1-使用缓存">&lt;a href="#1-%e4%bd%bf%e7%94%a8%e7%bc%93%e5%ad%98" class="header-anchor">&lt;/a>&lt;strong>1. 使用缓存&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>合理设置缓存过期时间，避免占用过多内存。&lt;/li>
&lt;li>配置示例:
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1&lt;/span>&lt;span>&lt;span style="color:#50fa7b">maxmemory 2gb&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2&lt;/span>&lt;span>&lt;span style="color:#50fa7b">maxmemory-policy allkeys-lru&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="2-数据分区">&lt;a href="#2-%e6%95%b0%e6%8d%ae%e5%88%86%e5%8c%ba" class="header-anchor">&lt;/a>&lt;strong>2. 数据分区&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>使用 Redis 集群，将数据分散到不同节点，减少单个节点的压力。&lt;/li>
&lt;/ul>
&lt;h3 id="3-禁用-aof-或调整-aof-策略">&lt;a href="#3-%e7%a6%81%e7%94%a8-aof-%e6%88%96%e8%b0%83%e6%95%b4-aof-%e7%ad%96%e7%95%a5" class="header-anchor">&lt;/a>&lt;strong>3. 禁用 AOF 或调整 AOF 策略&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>如果对数据一致性要求不高，可以禁用 AOF 或调整为 &lt;code>everysec&lt;/code> 以提高性能。&lt;/li>
&lt;/ul>
&lt;h3 id="4-优化-redis-配置">&lt;a href="#4-%e4%bc%98%e5%8c%96-redis-%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>&lt;strong>4. 优化 Redis 配置&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>增加后台线程，调整 &lt;code>io-threads&lt;/code> 来提升并发性能。&lt;/li>
&lt;/ul></description></item></channel></rss>