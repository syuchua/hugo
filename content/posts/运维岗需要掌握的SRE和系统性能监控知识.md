---
title: 运维岗需要掌握的SRE和系统性能监控知识
categories:
  - 笔记
tags:
  - 运维
  - SRE
  - 系统性能监控
date: 2024-09-25T23:04:42+08:00
---

---

# 系统性能监控笔记

## 目录

1. [Linux 系统负载监控](#1-linux-系统负载监控)
2. [网络监控](#2-网络监控)
3. [磁盘与 IO 监控](#3-磁盘与-io-监控)
4. [内存监控](#4-内存监控)
5. [系统性能分析工具](#5-系统性能分析工具)

---

## 1. Linux 系统负载监控

### **查看系统负载**

#### **uptime**
- 显示系统的负载平均值。
  ```bash
  uptime
  ```

#### **top**
- 动态显示系统的进程和负载信息。
  ```bash
  top
  ```

#### **load average** 的含义
- Load average 是系统在 1 分钟、5 分钟、15 分钟内的平均负载。

---

## 2. 网络监控

### **查看网络连接状态**

#### **netstat**
- 显示网络连接、路由表、接口统计信息。
  ```bash
  netstat -an
  ```

#### **ss**
- 替代 `netstat` 的工具，更加快速。
  ```bash
  ss -antp
  ```

### **查看带宽使用情况**

#### **iftop**
- 实时监控网络流量。
  ```bash
  iftop
  ```

#### **nload**
- 监控网络接口带宽使用情况。
  ```bash
  nload
  ```

---

## 3. 磁盘与 IO 监控

### **查看磁盘空间**

#### **df**
- 显示磁盘使用情况。
  ```bash
  df -h
  ```

#### **du**
- 显示文件和目录的磁盘使用情况。
  ```bash
  du -sh <directory>
  ```

### **监控 IO 性能**

#### **iostat**
- 监控 CPU 和设备的 IO 统计。
  ```bash
  iostat
  ```

#### **iotop**
- 实时查看磁盘 IO 使用情况。
  ```bash
  iotop
  ```

---

## 4. 内存监控

### **查看内存使用情况**

#### **free**
- 显示系统的内存使用情况。
  ```bash
  free -m
  ```

#### **vmstat**
- 报告虚拟内存统计信息。
  ```bash
  vmstat
  ```

#### **top**
- 在 `top` 命令中查看内存使用情况。

---

## 5. 系统性能分析工具

### **sar**
- 收集、报告和保存系统活动信息。
  ```bash
  sar -u 1 3   # 每秒收集一次 CPU 使用率，连续三次
  ```

### **htop**
- 类似 `top`，但提供了更好的 UI 和更多功能。
  ```bash
  htop
  ```

### **perf**
- Linux 性能分析工具，用于剖析 CPU 使用情况和应用性能。
  ```bash
  perf top
  ```

